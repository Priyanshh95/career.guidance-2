{% extends "base.html" %}

{% block content %}
<div class="dashboard-header text-center mb-4">
    <h2>Welcome, {{ current_user.username }}!</h2>
    <p class="text-muted">Manage your career journey and assessments</p>
</div>

<!-- Centered container with fixed max-width -->
<div class="container d-flex justify-content-center">
    <div class="row w-100 justify-content-center" style="max-width: 1000px;">
        <!-- Your Assessments -->
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title text-center">Your Assessment Marks</h5>
                    {% if current_user.assessments or current_user.coding_test_score is not none %}
                    <ul class="list-group list-group-flush mt-3">
                        {% for assessment in current_user.assessments %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ assessment.assessment_type }}
                            <span class="badge bg-primary rounded-pill">{{ assessment.score }}</span>
                        </li>
                        {% endfor %}
                        {% if current_user.coding_test_score is not none %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Coding Test
                            <span class="badge bg-success rounded-pill">{{ current_user.coding_test_score }}</span>
                        </li>
                        {% endif %}
                    </ul>
                    {% else %}
                    <p class="card-text mt-3 text-center">No assessments taken yet.</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Self Assessment -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <h5 class="card-title">Self Assessment Test</h5>
                    <p class="card-text mt-3">
                        Take a comprehensive self-assessment designed to evaluate your core strengths in Aptitude, Creativity, Communication, and Coding. This helps you discover your capabilities, identify areas for improvement, and find career paths that best suit your skills.
                    </p>                    
                    <a href="{{ url_for('self_assessment') }}" class="btn btn-primary mt-4">Take Self Assessment</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
